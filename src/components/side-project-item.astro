---
import { IconCode } from "@tabler/icons-react";

import { type SideProject } from "@/config";

type Props = SideProject;

const {
  name,
  summary,
  url: { source: sourceUrl, production: productionUrl },
  techStack,
} = Astro.props;

const Name = productionUrl ? "a" : "h4";
---

<div class="flex flex-col gap-2">
  <span
    class="inline-flex items-center justify-between font-serif text-2xl font-medium md:justify-start"
  >
    <Name
      href={productionUrl}
      target="_blank"
      rel="noopener noreferrer"
      class={`decoration-2 underline-offset-4 ${productionUrl ? "underline" : ""}`}
      >{name}</Name
    >
    {
      !!sourceUrl && (
        <a
          href={sourceUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="rounded-full border border-input p-2 text-lg font-normal underline decoration-2 underline-offset-4 hover:bg-accent hover:text-accent-foreground md:ml-5"
        >
          <IconCode size={20} />
        </a>
      )
    }
  </span>

  <p class="tracking-tight text-muted-foreground md:text-lg">
    {summary}
  </p>

  {
    techStack.length > 0 && (
      <div class="mt-2 flex flex-wrap gap-1 md:gap-2">
        {techStack.map((stack) => (
          <div class="flex h-8 items-center justify-center rounded-full bg-primary/10 px-4 text-sm text-primary hover:bg-primary hover:text-primary-foreground">
            {stack}
          </div>
        ))}
      </div>
    )
  }
</div>
