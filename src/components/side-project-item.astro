---
import { type SideProject } from "@/config";

type Props = SideProject;

const {
  name,
  summary,
  url: { source: sourceUrl, production: productionUrl },
  techStack,
} = Astro.props;

const Name = productionUrl ? "a" : "h4";
---

<div class="flex flex-col gap-2">
  <span class="inline-flex items-end font-serif text-2xl font-medium">
    <Name
      href={productionUrl}
      target="_blank"
      rel="noopener noreferrer"
      class={`decoration-2 underline-offset-4 ${productionUrl ? "underline" : ""}`}
      >{name}</Name
    >
    {
      !!sourceUrl && (
        <a
          href={sourceUrl}
          target="_blank"
          rel="noopener noreferrer"
          class="ml-2 text-xl font-normal underline decoration-2 underline-offset-4"
        >
          (source)
        </a>
      )
    }
  </span>

  <p class="text-muted-foreground md:text-lg">
    {summary}
  </p>

  {
    techStack.length > 0 && (
      <div class="mt-2 flex flex-wrap gap-1 md:gap-2">
        {techStack.map((stack) => (
          <div class="flex h-8 items-center justify-center rounded-full bg-primary/10 px-4 text-sm text-primary">
            {stack}
          </div>
        ))}
      </div>
    )
  }
</div>
